ğŸ—„ï¸ InSign Firebase Firestore Schema Design1. ì „ì—­ ì„¤ì • (Constants)appId: insign-korea-prodBase Path (Public): /artifacts/insign-korea-prod/public/dataBase Path (Private): /artifacts/insign-korea-prod/users/{userId}2. Public Collections (ê³µìš© ë°ì´í„°)[Collection] /public/data/standardsì •ë¶€ ë°°í¬ í‘œì¤€ ê³„ì•½ì„œ ë° ë²•ë ¹ ê·¼ê±° ë°ì´í„°.documentId: standard_id (ì˜ˆ: mct_ent_2024)fields:domain: "Entertainment" | "IT"title_ko: "ëŒ€ì¤‘ë¬¸í™”ì˜ˆìˆ ì¸ í‘œì¤€ì „ì†ê³„ì•½ì„œ"version: "2024.01"clauses: { "1": "ì¡°í•­ ë‚´ìš©...", "2": "ì¡°í•­ ë‚´ìš©..." } (Map êµ¬ì¡°)[Collection] /public/data/toxic_patternsAIê°€ ì°¸ê³ í•  ì—…ê³„ë³„ ë…ì†Œ ì¡°í•­ ì§€ì‹ ë² ì´ìŠ¤.documentId: pattern_idfields:category: "PortraitRights" | "Payment" | "Termination"keywords: ["permanent", "worldwide", "irrevocable"]impact_score: 80 (ìœ„í—˜ë„ ì‚°ì¶œìš©)explanation_en: "Explanation for foreign users..."3. User Collections (ì‚¬ìš©ì ë°ì´í„° - ë³´ì•ˆ ì¤‘ìš”)[Collection] /users/{userId}/profileì‚¬ìš©ì ê³„ì • ì •ë³´ ë° êµ¬ë… ìƒíƒœ.fields:email: stringpreferredLanguage: "en" | "ko"membership: "Free" | "Pro" | "Master"createdAt: timestamp[Collection] /users/{userId}/contractsì‚¬ìš©ìê°€ ì—…ë¡œë“œí•œ ê°œë³„ ê³„ì•½ì„œ ë¶„ì„ ì„¸ì…˜.documentId: contract_idfields:filename: "ad_contract_v1.pdf"status: "uploading" | "parsing" | "analyzing" | "completed" | "error"overallScore: number (0-100)category: "Entertainment"uploadedAt: timestampisPaid: boolean (ê²°ì œ ì—¬ë¶€)[Collection] /users/{userId}/contracts/{contract_id}/analysisìƒì„¸ ë¶„ì„ ê²°ê³¼ (JSON Structured Output ì €ì¥).fields:summary: "ì´ ê³„ì•½ì„œëŠ” ì´ˆìƒê¶Œ ë¶€ë¶„ì—ì„œ ë§¤ìš° ìœ„í—˜í•©ë‹ˆë‹¤."toxicClauses: [{"id": 1,"title_ko": "ì´ˆìƒê¶Œ ì˜êµ¬ ê·€ì†","title_en": "Permanent Image Rights","severity": "high","original_text": "...","standard_reference": "MCT Standard Clause 7","explanation_en": "...","negotiation_script_ko": "...","isFreeSample": true (ë¬´ë£Œë¡œ ë³´ì—¬ì¤„ 1ê°œ í•­ëª© êµ¬ë¶„)}]visaImpact: { "status": "warning", "reason_en": "..." }4. Storage Structure (íŒŒì¼ ì €ì¥ì†Œ)/contracts/{userId}/{contractId}/original.pdf (ì›ë³¸ íŒŒì¼)/reports/{userId}/{contractId}/insign_report.pdf (ìƒì„±ëœ ë¶„ì„ ë¦¬í¬íŠ¸)